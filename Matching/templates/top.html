{% extends "base.html" %}
{% load static %}

{% block extraheader %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">

    <style>

        @media (min-width: 600px) {
            #parent {
                display: flex;
            }

            #child1 {
                flex-grow: 1;
                width: 400px;
            }

            #child2 {
                flex-grow: 1;
                width: 500px;
            }
        }

        p a {
            overflow: hidden;
        }

        p a img:hover {
            transform: scale(1.3);
            transition: 0.3s;
        }

        input[type="text"] {
            font-size: 20px;
            width: 75%;
            height: 50px;
            border: 1px solid #ccc;
            border-radius: 30px;
        }

        input[type="submit"] {
            font-size: 100%;
            width: 20%;
            height: 20%;
            background-color: rgba(136, 29, 29, 1);
            color: white;
            border: 0.5rem solid;
            border-radius: 30px;
            cursor: pointer;

        }

        input[type="submit"]:hover {
            background-color: #b03ec0;
        }

    </style>
{% endblock %}
{% block main %}
    <div id="parent">
        <div id="child1">
            <h4>好きな本、著者で相手を探す</h4>
            <form method="get" action="{% url 'top' %}">
                <input type="text" name="q" placeholder="タイトル、著者名">
                <input type="submit" value="検索">
            </form>
            <br>
            <h4>好きな本のジャンルで相手を探す</h4>
            <form method="get" action="{% url 'top' %}">
                <input type="text" name="q2" placeholder="本のジャンル">
                <input type="submit" value="検索">
            </form>
            <br>
        </div>
        <div id="child2">

            {% if query %}
                <h2>{{ query }} の検索結果</h2>

                {% if results %}


                    {% for profile in results %}
                        <div class="flex">
                        <div class="profile-card" id="profile">
                        <div class="profile-card__inner">
                            <div class="profile-thumb">
                                <p><a href="{% url 'profile_detail' profile.pk %}">
                                    <img src="{{ profile.face_image.url }}" alt="アイコン">
                                </a></p>
                            </div>
                            <div class="profile-content">
                                <span class="profile-name">{{ profile.create_by }}</span>
                                <span class="profile-job">{{ profile.age }}歳</span>
                                <hr class="hr1">
                                <span class="profile-intro">{{ profile.introduction }}</span>
                            </div>
                        </div>

                    {% endfor %}
                {% else %}
                    <p>検索結果がありません。</p>
                {% endif %}
            {% else %}
            {% endif %}

            {% if query2 %}
                <h2>{{ query2 }} の検索結果</h2>

                {% if results2 %}

                    <ul>
                    {% for profile in results2 %}
                        <div class="flex">
                        <div class="profile-card">
                        <div class="profile-card__inner">

                            <div class="profile-thumb">
                                <p><a href="{% url 'profile_detail' profile.pk %}">
                                    <img src="{{ profile.face_image.url }}" alt="アイコン">
                                </a></p>
                            </div>

                            <div class="profile-content">
                                <span class="profile-name">{{ profile.create_by }}</span>
                                <span class="profile-job">{{ profile.age }}歳</span>
                                <hr class="hr1">
                                <span class="profile-intro">{{ profile.introduction }}</span>
                            </div>
                        </div>

                    {% endfor %}
                {% else %}
                    <p>検索結果がありません。</p>
                {% endif %}
            {% else %}
            {% endif %}

            {% for profile in opposite_gender_profiles %}

                <div class="profile-card">
                    <div class="profile-card__inner">
                        <div class="profile-thumb">
                            <p><a href="{% url 'profile_detail' profile.pk %}">
                                <img src="{{ profile.face_image.url }}" alt="アイコン">
                            </a></p>
                        </div>
                        <div class="profile-content">
                            <span class="profile-name">{{ profile.create_by }}</span>
                            <span class="profile-job">{{ profile.age }}歳</span>
                            <hr class="hr1">
                            <span class="profile-intro">{{ profile.introduction }}</span>
                        </div>
                    </div>
                </div>
                <div class="padding"><br>
            {% endfor %}

{% endblock %}